<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>首页</title>
  <!-- 新 Bootstrap 核心 CSS 文件 -->
  <link rel="stylesheet" href="../../../css/bootstrap.min.css">
  <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
  <script src="../../../js/jquery.min.js"></script>
  <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
  <script src="../../../js/bootstrap.min.js"></script>
</head>

<body>
<div style="padding:0px; margin:0px;">
  <ul class="breadcrumb" style="  margin:0px; ">
    <li><a href="#">系统管理</a></li>
    <li>角色管理</li>
    <li>修改角色信息</li>
  </ul>
</div>

<form action="" class="form-horizontal">

  <h5 class="page-header alert-info" style="padding:10px; margin:0px; margin-bottom:5px;">基本信息</h5>
  <div class="row">
    <div class="col-sm-5">
      <div class="form-group">
        <label class="col-sm-3 control-label">角色编号</label>
        <div class="col-sm-9">
          <input type="text" name="" th:value="${role.id}" disabled class="form-control input-sm input-id"
                 placeholder="请输入角色编号"/>
        </div>
      </div>

    </div>
    <div class="col-sm-5">
      <div class="form-group">
        <label class="col-sm-3 control-label">角色名称</label>
        <div class="col-sm-9">
          <input type="text" name="" th:value="${role.name}" class="form-control input-sm input-name" placeholder="请输入角色名称"/>
        </div>
      </div>
    </div>

  </div>
  <h5 class="page-header alert-info" style="padding:10px; margin:0px; margin-bottom:5px;">备注信息</h5>
  <div class="row">
    <div class="col-sm-10">
      <div class="form-group">
        <label class="col-sm-3 control-label">备注</label>
        <div class="col-sm-9">
          <textarea th:text="${role.description}" class="form-control input-description"></textarea>
        </div>
      </div>

    </div>

  </div>

  <div class="row">
    <div class="col-sm-3 col-sm-offset-4">
      <input type="submit" class="btn btn-success btn-save" value="保存"/>
      <input type="reset" class="btn  btn-danger" value="取消"/>
    </div>
  </div>
</form>
<script>
  updateRole();
  //修改角色
  function updateRole(){
    $(".btn-save").on("click", function (e) {
      e.preventDefault();
      var id = $(".input-id").val();
      var name = $(".input-name").val();
      var description = $(".input-description").val();
      $.ajax({
        url:'/role',
        method:'PUT',
        data:JSON.stringify({
          id:id,
          name:name,
          description:description
        }),
        dataType:'html',
        contentType:'application/json',
        success:function(data){
          console.log(data);
          location.reload();
        }
      });
    });
  }
</script>
</body>
</html>
